---
title: 'Identity Match'
description: 'Compare two identity records to determine if they match'
---

<Endpoint method="POST" url="/complianceEngine/identity-match" />

Compare candidate information against a criminal record subject to determine identity match probability. This endpoint uses advanced fuzzy matching algorithms to ensure accurate identity resolution.

## What is Identity Matching?

Identity matching is a critical component of background screening that determines whether a candidate's information matches the subject of a criminal record. This helps prevent false positives by ensuring records are correctly associated with the right individual.

## Matching Capabilities

The identity matching system uses a comprehensive approach:

- **Fellegi-Sunter Probabilistic Framework** - Industry-standard probabilistic matching methodology
- **Advanced Name Matching**:
  - Exact matches
  - Fuzzy matching (Jaro-Winkler, Levenshtein distance)
  - Soundex phonetic matching
  - Keyboard distance (typo detection)
  - Alias database matching (handles nicknames, diminutives)
  - Substring matching
  - First letter preservation
- **Date of Birth Verification** - Accurate DOB comparison
- **SSN Matching** - Exact match when available
- **Address Matching** - USPS-standardized address comparison with history
- **Edge Case Handling** - Confidence adjustment for unusual scenarios
- **Manual Review Triggers** - Automatic flagging of low-confidence matches

## Base URL

```
https://compliance-engine-cr-dev-859798439223.us-south1.run.app
```

## Authentication

No authentication required for this endpoint.

## Request Body

<ParamField body="body" name="candidateToVerify" type="object" required>
  Candidate identity to verify (the person being checked). See [IdentityMatchInput Schema](/api-reference/schemas/identity-match-input) for complete structure.
</ParamField>

<ParamField body="body" name="candidateInRecord" type="object" required>
  Candidate identity found in the criminal record (the person in the record). See [IdentityMatchInput Schema](/api-reference/schemas/identity-match-input) for complete structure.
</ParamField>

## Request Example

```bash
curl -X POST "https://compliance-engine-cr-dev-859798439223.us-south1.run.app/complianceEngine/identity-match" \
  -H "Content-Type: application/json" \
  -d '{
    "candidateToVerify": {
      "firstName": "CODY",
      "lastName": "WARD",
      "dateOfBirth": "1983-05-18",
      "ssn": "",
      "aliases": [],
      "addresses": [
        {
          "streetOne": "3209 ORANGE ORCHARD PL #3 NORTH LAS VEGAS, NV 89084",
          "addressType": "DOMESTIC",
          "country": "US"
        }
      ]
    },
    "candidateInRecord": {
      "firstName": "RYAN",
      "lastName": "GOSLING",
      "dateOfBirth": "1892-10-03",
      "ssn": "",
      "aliases": [],
      "addresses": [
        {
          "streetOne": "3209 ORANGE ORCHARD PL #3 NORTH LAS VEGAS, NV 89084",
          "addressType": "DOMESTIC",
          "country": "US"
        }
      ]
    }
  }'
```

## Response

<ResponseField name="ssnScore" type="number">
  SSN match score (0-1). Higher values indicate better match.
</ResponseField>

<ResponseField name="ssnMatchDesc" type="string">
  Description of SSN match result.
</ResponseField>

<ResponseField name="dobScore" type="number">
  Date of birth match score (0-1).
</ResponseField>

<ResponseField name="dobMatchDesc" type="string">
  Description of DOB match result.
</ResponseField>

<ResponseField name="nameScore" type="number">
  Name match score (0-1). Uses fuzzy matching algorithms.
</ResponseField>

<ResponseField name="nameMatchDesc" type="string">
  Description of name match result (e.g., "Exact Name Match", "Low or partial fuzzy Name Match").
</ResponseField>

<ResponseField name="addressScore" type="number">
  Address match score (0-1).
</ResponseField>

<ResponseField name="addresseMatchDesc" type="string">
  Description of address match result.
</ResponseField>

<ResponseField name="matchScore" type="number">
  Overall weighted match score (0-1). Calculated from individual component scores.
</ResponseField>

<ResponseField name="isMatch" type="boolean">
  Whether the match threshold is met. `true` indicates a positive match.
</ResponseField>

<ResponseField name="details" type="string">
  Detailed breakdown of match scores with weights for each component.
</ResponseField>

### Success Response (200)

```json
{
  "ssnScore": 0,
  "ssnMatchDesc": "Invalid/Empty SSN(s)",
  "dobScore": 0,
  "dobMatchDesc": "No DOB Match",
  "nameScore": 0.5,
  "nameMatchDesc": "Low or partial fuzzy Name Match",
  "addressScore": 1,
  "addresseMatchDesc": "Exact Address Match",
  "matchScore": 0.225,
  "isMatch": false,
  "details": "SSN Score: 0 % (Weight: 35 %), DOB Score: 0 % (Weight: 30 %), Name/Alias Score: 50 % (Weight: 25 %), Address Score: 100 % (Weight: 10 %)"
}
```

## Match Scoring

The identity match algorithm uses a weighted scoring system based on the Fellegi-Sunter probabilistic framework:

- **SSN Score** (Weight: 35%) - Exact match when SSN is available
- **DOB Score** (Weight: 30%) - Date of birth comparison
- **Name/Alias Score** (Weight: 25%) - Advanced fuzzy name matching including:
  - Exact matches
  - Fuzzy matches using Jaro-Winkler similarity
  - Soundex phonetic matching
  - Levenshtein distance
  - Keyboard distance
  - Substring matching
  - Alias database matching
- **Address Score** (Weight: 10%) - Address history matching with USPS standardization

The overall `matchScore` is calculated as a weighted average of these components. The system includes edge case confidence adjustment and mandatory manual review triggers for low-confidence matches.

## Status Codes

- `200` - Identity matching completed successfully
- `400` - Invalid input data or validation error
- `500` - Internal server error

## Error Responses

### 400 Bad Request - Invalid Format

```json
{
  "error": "Invalid request format",
  "message": "Request body must be a JSON object with 'candidateToVerify' and 'candidateInRecord' properties.",
  "code": "INVALID_REQUEST_FORMAT"
}
```

### 400 Bad Request - Validation Error

```json
{
  "error": "Validation failed",
  "message": "One or more validation errors occurred",
  "code": "VALIDATION_ERROR",
  "errors": {
    "candidateToVerify.dateOfBirth": [
      "The dateOfBirth field must be in YYYY-MM-DD format (e.g., 1997-08-30). Received: 1997-50-30"
    ]
  }
}
```

## Test Endpoints

To make testing easier, we provide test endpoints that return predefined test cases. Use these to get sample data, then test with the identity-match endpoint.

### Available Test Endpoints

All test endpoints are available at the Compliance Engine API base URL:

**Base URL:** `https://compliance-engine-cr-dev-859798439223.us-south1.run.app`

<Tabs>
  <Tab title="Exact Match">
    **Endpoint:** `GET /complianceEngine/test/exact-match`
    
    Returns a test case with perfectly matching identities (same name, DOB, SSN, address).
    
    **Use Case:** Test high-confidence match scenario.
    
    ```bash
    curl "https://compliance-engine-cr-dev-859798439223.us-south1.run.app/complianceEngine/test/exact-match"
    ```
  </Tab>
  
  <Tab title="Fuzzy Name Match">
    **Endpoint:** `GET /complianceEngine/test/fuzzy-name-match`
    
    Returns a test case with name variations (middle name, aliases).
    
    **Use Case:** Test fuzzy name matching and alias handling.
    
    ```bash
    curl "https://compliance-engine-cr-dev-859798439223.us-south1.run.app/complianceEngine/test/fuzzy-name-match"
    ```
  </Tab>
  
  <Tab title="No Match">
    **Endpoint:** `GET /complianceEngine/test/no-match`
    
    Returns a test case with completely different people (different names, DOB, but same address).
    
    **Use Case:** Test that the system correctly identifies non-matches.
    
    ```bash
    curl "https://compliance-engine-cr-dev-859798439223.us-south1.run.app/complianceEngine/test/no-match"
    ```
  </Tab>
  
  <Tab title="Partial Match">
    **Endpoint:** `GET /complianceEngine/test/partial-match`
    
    Returns a test case with partial matching (similar names with aliases, same DOB and address).
    
    **Use Case:** Test partial match scenarios and alias matching.
    
    ```bash
    curl "https://compliance-engine-cr-dev-859798439223.us-south1.run.app/complianceEngine/test/partial-match"
    ```
  </Tab>
  
  <Tab title="Typo Match">
    **Endpoint:** `GET /complianceEngine/test/typo-match`
    
    Returns a test case with name typos (keyboard distance detection).
    
    **Use Case:** Test typo detection and keyboard distance algorithm.
    
    ```bash
    curl "https://compliance-engine-cr-dev-859798439223.us-south1.run.app/complianceEngine/test/typo-match"
    ```
  </Tab>
  
  <Tab title="All Test Cases">
    **Endpoint:** `GET /complianceEngine/test/all`
    
    Returns all test cases in a dictionary format.
    
    **Use Case:** Get all test scenarios at once.
    
    ```bash
    curl "https://compliance-engine-cr-dev-859798439223.us-south1.run.app/complianceEngine/test/all"
    ```
  </Tab>
</Tabs>

### How to Use Test Endpoints

1. **Get a test case:**
   ```bash
   curl "https://compliance-engine-cr-dev-859798439223.us-south1.run.app/complianceEngine/test/exact-match"
   ```

2. **Use the response in identity-match:**
   ```bash
   curl -X POST "https://compliance-engine-cr-dev-859798439223.us-south1.run.app/complianceEngine/identity-match" \
     -H "Content-Type: application/json" \
     -d '{
       "candidateToVerify": { ... },
       "candidateInRecord": { ... }
     }'
   ```

### Expected Results by Test Case

<Accordion title="Exact Match">
- **matchScore:** ~0.9-1.0
- **isMatch:** `true`
- All component scores should be high
</Accordion>

<Accordion title="Fuzzy Name Match">
- **matchScore:** ~0.7-0.9
- **isMatch:** `true` or `false` (depending on threshold)
- Name score should reflect fuzzy matching
</Accordion>

<Accordion title="No Match">
- **matchScore:** <0.3
- **isMatch:** `false`
- Name and DOB scores should be low
</Accordion>

<Accordion title="Partial Match">
- **matchScore:** ~0.4-0.7
- **isMatch:** `false` (likely)
- Address and DOB may match, but name variations
</Accordion>

<Accordion title="Typo Match">
- **matchScore:** ~0.6-0.8
- **isMatch:** `true` or `false`
- Name score should handle typo gracefully
</Accordion>

### Testing in Swagger UI

1. Open Swagger UI: `https://compliance-engine-cr-dev-859798439223.us-south1.run.app/swagger`
2. Navigate to **Test Endpoints** section
3. Select a test endpoint (e.g., `GET /complianceEngine/test/exact-match`)
4. Click "Try it out" â†’ "Execute"
5. Copy the response JSON
6. Navigate to `POST /complianceEngine/identity-match` in **Compliance Engine** section
7. Paste the test case JSON into the request body
8. Execute to see match results

## Related Documentation

- [IdentityMatchInput Schema](/api-reference/schemas/identity-match-input) - Complete input structure
- [Evaluate Endpoint](/api-reference/endpoints/evaluate) - Main criminal record evaluation endpoint

